<!DOCTYPE html>
<html lang="pt-br">
<head>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cartão Fidelidade</title>

    <link rel="stylesheet" href="styles/index.css">

    <link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@300;400;700&display=swap" rel="stylesheet">

    <style>
        /* Estilos adicionais */
        #resultado {
            min-height: 1.5rem; /* Reserva espaço para a mensagem de resultado */
            transition: opacity 0.3s ease; /* Adiciona transição suave para a mensagem */
        }
    </style>
</head>
<body>

    <header>
        <img class="img" src="assets/asset/Logo.png" alt="">
     
        <form class="form" id="formulario" onsubmit="compararNumero(event)">
            <input id="card" type="text" placeholder="ID do cartão" oninput="validarEntrada()" maxlength="20" required>

            <button type="submit">
                <img src="assets/icons/enter.svg" alt="">
            </button>
        </form>
 
        <p id="resultado" class="resultado"></p>
 
        <script>
            // Função para permitir apenas números e sinais + e -
            function validarEntrada() {
                const input = document.getElementById('card');
                const resultado = document.getElementById('resultado');

                // Limpa a mensagem de erro quando o usuário começar a digitar
                resultado.textContent = ''; // Limpa o texto do resultado
                resultado.style.color = ''; // Remove a cor aplicada anteriormente

                // Restringe a entrada a números e sinais + e -
                input.value = input.value.replace(/[^0-9+\-]/g, '');
            }
 
            // Lista de números válidos e suas URLs
            const numerosValidos = {
                "124-537-835-230": "clients/client-01.html", 
                "207-245-699-104": "clients/client-02.html",
                "523-114-876-908": "clients/client-03.html"
            };
 
            // Função para comparar o número digitado com os números válidos
            function compararNumero(event) {
                event.preventDefault(); // Evita o envio do formulário
             
                const numeroDigitado = document.getElementById('card').value;
                const resultado = document.getElementById('resultado');

                // Verifica se o número digitado está na lista de números válidos
                if (numerosValidos[numeroDigitado]) {
                    resultado.textContent = "Número válido!";
                    resultado.style.color = "green";
                    // Redireciona para a URL correspondente na mesma aba
                    window.location.href = numerosValidos[numeroDigitado];
                } else {
                    resultado.textContent = "Número inválido!";
                    resultado.style.color = "red";
                }
            }
        </script>

    </header>

    <main>

        <fieldset class="person">
            <div class="flex">
                <div class="flex-1">
                    <img class="photo" src="assets/client/client-1.png" alt="">
                </div>
                <div class="flex-2"> 
                    <h1>Nome</h1>
                    <p>Cliente desde</p>
                </div>
            </div>
        </fieldset>

        <fieldset class="fidelidade">
            <div class="flx">
                <div class="text-content" >
                    <h2>Cartão fidelidade</h2>
                    <p>Ao fazer cortes de cabelo, o décimo sai de graça!</p>
                </div>
                <div" class="button-container">
                    <button >
                        ID: 124-537-835-230
                    </button>
                </div>
                <ul>
                    <li><img src="assets/asset/PinCheck.png" alt=""></li>
                    <li><img src="assets/asset/PinCheck.png" alt=""></li>
                    <li><img src="assets/asset/PinCheck.png" alt=""></li>
                    <li><img src="assets/asset/PinCheck.png" alt=""></li>
                    <li><img src="assets/asset/PinCheck.png" alt=""></li>
                    <li><img src="assets/asset/PinCheck.png" alt=""></li>
                    <li><img src="assets/asset/PinCheck.png" alt=""></li>
                    <li></li>
                    <li></li>
                    <li opac><img src="assets/icons/present-1.svg" alt=""></li>
                </ul>
            </div>
        </fieldset>

        <fieldset class="cortes">
            <div class="cortes-info">
                <h2><strong>3</strong> cortes restantes</h2>
            </div>
        
            <div class="progress-wrapper">
                <div class="progress-container">
                    <div class="progress-bar" style="width: 100%;"></div> <!-- 7 de 10 cortes -->
                </div>
                <p>7 de 10</p> <!-- Texto fora da barra de progresso -->
                <div class="gift-icon">
                    <img src="assets/asset/PinGift.png" alt="Presente">
                </div>
            </div>
        </fieldset>

        <fieldset class="historico">
            <section class="container-main history-info">
                <div class="history-heading">
                  <h3 class="subtitle-sm">Histórico</h3>
                  <p class="text-xs">7 cortes</p>
                </div>
        
                <hr>
        
                <ul class="history-cards">
                  <li class="history-card">
                    <div class="time">
                      <p class="subtitle-sm">29/04/2024</p>
                      <p class="text-xs">18:30</p>
                    </div>
        
                    <div class="check">
                      <img src="assets/icons/check.svg">
                    </div>
                  </li>
        
                  <li class="history-card">
                    <div class="time">
                      <p class="subtitle-sm">29/04/2024</p>
                      <p class="text-xs">18:30</p>
                    </div>
        
                    <div class="check">
                      <img src="assets/icons/check.svg">
                    </div>
                  </li>
                </ul>
              </section>
        </fieldset>       

    </main>    

 </body>
   
</html>
